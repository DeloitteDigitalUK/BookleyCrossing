<template name="dashboardManage">
	<div class="dashboard-manage row">
		<h3>Manage</h3>
		<div class="dashboard-manage__section col-xs-12 col-sm-6">
			<h4>
				{{#if requestsNotEmpty}}
					<div class="notification-pulse"></div>
				{{/if}}
				Pending requests
			</h4>
			<ul class="dashboard-request__list">
				{{#if requestsNotEmpty}}
						{{#each requests}}
							{{> dashboardRequest}}
						{{/each}}
				{{else}}
					No pending requests
				{{/if}}
			</ul>
		</div>

		<div class="dashboard-user-reading col-xs-12 col-sm-6">
			<div class="dashboard-manage__section">
				<h4>Users are reading</h4>
				<ul class="dashboard-request__list">
					{{#each books}}
						{{> dashboardBook}}
					{{/each}}
				</ul>
			</div>
		</div>
	</div>
</template>

<template name="dashboardRequest">
	<li class="dashboard-request__item js-dashboard-request">
		<span class="dashboard-request__username">{{user.username}}</span> wants to read <span class="dashboard-request__title">{{book.title}}</span>
		<button class="btn btn-small btn-green js-dashboard-request-approve">Approve</button>
		<button class="btn btn-small btn-pink js-dashboard-request-decline">Decline</button>
	</li>
</template>

<template name="dashboardBook">
	{{#if borrowed}}
		<li class="dashboard-request__item">
		<span class="dashboard-request__username">{{borrowedBy.username}}</span> is reading <span class="dashboard-request__title">{{title}}</span>
		<button class="btn btn-small btn-pink js-dashboard-force-return">Force Return</button>
		</li>
	{{/if}}
</template>